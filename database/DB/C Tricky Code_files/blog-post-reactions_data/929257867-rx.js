(function (){ function g(a){throw a;}
var k=void 0,l=!0,m=null,p=!1,s="",aa="\n",u=" ",ba='"',ca='", ',da='","groups":["reactions"]},"labels":[',ea='","groups":["reactions"]},{"url": "',fa='"}],"applicationId":34}',ga="$$$$",ha="(",ia="(\\d*)(\\D*)",ja=")",ka="*",la=".",ma="0",na=": ",oa="@",pa="Assertion failed",qa="Content-Type",ra="Event target is not initialized. Did you call superclass (goog.events.EventTarget) constructor?",sa="GET",ta="MSXML2.XMLHTTP",ua="MSXML2.XMLHTTP.3.0",va="MSXML2.XMLHTTP.6.0",wa="Microsoft.XMLHTTP",xa="POST",
ya="[object Array]",za="[object Function]",Aa="[object Window]",Ba="]",Ca=']}],"applicationId":34}&token=',Da="_",Ea="a",Fa="abort",Ga="application/x-www-form-urlencoded;charset=utf-8",v="array",Ha="call",Ia="click",Ja="complete",Ka="content-type",La="error",Ma="event",x="function",Na="g",Oa="http://www.blogger.com/reviews/json/aggregates",Pa="http://www.blogger.com/reviews/json/token",Qa="http://www.blogger.com/reviews/json/write",Ra="infinite loop",Sa="innerText",Ta="keypress",Ua="mouseout",Va=
"mouseover",Wa="native code",Xa="null",Ya="number",Za="object",$a="on",ab="ready",bb="readystatechange",cb='req={"annotations": [ {"replaceAllLabels":true,"entity": {"url": "',db='req={"applicationId":34}',eb='req={"entities":[{"url": "',fb="rx-checked",gb="rx-count",hb="rx-holder",ib="rx-label",jb="rx-option",kb="rx-unchecked",lb="span",mb="splice",nb="string",ob="success",pb="timeout",qb="var ",rb="window",sb="withCredentials",y,tb=tb||{},z=this,ub=function(a,b,c){a=a.split(la);c=c||z;!(a[0]in c)&&
c.execScript&&c.execScript(qb+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&b!==k?c[d]=b:c=c[d]?c[d]:c[d]={}},vb=function(){},A=function(a){var b=typeof a;if(b==Za)if(a){if(a instanceof Array)return v;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c==Aa)return Za;if(c==ya||typeof a.length==Ya&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(mb))return v;if(c==za||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&
!a.propertyIsEnumerable(Ha))return x}else return Xa;else if(b==x&&"undefined"==typeof a.call)return Za;return b},B=function(a){var b=A(a);return b==v||b==Za&&typeof a.length==Ya},C=function(a){return typeof a==nb},D=function(a){return a[wb]||(a[wb]=++xb)},wb="closure_uid_"+(1E9*Math.random()>>>0),xb=0,yb=function(a,b,c){return a.call.apply(a.bind,arguments)},zb=function(a,b,c){a||g(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);
Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},F=function(a,b,c){F=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(Wa)?yb:zb;return F.apply(m,arguments)},Ab=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}},G=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c};
Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return F.apply(m,c)}return F(this,a)};Function.prototype.partial=function(a){var b=Array.prototype.slice.call(arguments);b.unshift(this,m);return F.apply(m,b)};var Bb=function(a){Error.captureStackTrace?Error.captureStackTrace(this,Bb):this.stack=Error().stack||s;a&&(this.message=String(a))};G(Bb,Error);var Cb=function(a,b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\$/g,ga);a=a.replace(/\%s/,d)}return a};var Db=function(a,b){b.unshift(a);Bb.call(this,Cb.apply(m,b));b.shift()};G(Db,Bb);var H=function(a,b,c){if(!a){var d=Array.prototype.slice.call(arguments,2),e=pa;if(b)var e=e+(na+b),f=d;g(new Db(s+e,f||[]))}return a};var I=Array.prototype,J=I.indexOf?function(a,b,c){H(a.length!=m);return I.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:0>c?Math.max(0,a.length+c):c;if(C(a))return!C(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Eb=I.forEach?function(a,b,c){H(a.length!=m);I.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=C(a)?a.split(s):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Fb=I.filter?function(a,b,c){H(a.length!=m);return I.filter.call(a,b,c)}:function(a,
b,c){for(var d=a.length,e=[],f=0,h=C(a)?a.split(s):a,n=0;n<d;n++)if(n in h){var q=h[n];b.call(c,q,n,a)&&(e[f++]=q)}return e},Gb=function(a,b,c){a:{for(var d=a.length,e=C(a)?a.split(s):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a)){b=f;break a}b=-1}return 0>b?m:C(a)?a.charAt(b):a[b]},Ib=function(a,b){var c=J(a,b),d;(d=0<=c)&&Hb(a,c);return d},Hb=function(a,b){H(a.length!=m);return 1==I.splice.call(a,b,1).length},Jb=function(a,b,c){H(a.length!=m);return 2>=arguments.length?I.slice.call(a,b):I.slice.call(a,
b,c)};var Kb=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Lb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Mb=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Nb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Ob=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Nb.length;f++)c=Nb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Pb=function(a){Pb[u](a);return a};Pb[u]=vb;var K,Qb,Rb,Sb,Tb=function(){return z.navigator?z.navigator.userAgent:m};Sb=Rb=Qb=K=p;var Ub;if(Ub=Tb()){var Vb=z.navigator;K=0==Ub.indexOf("Opera");Qb=!K&&-1!=Ub.indexOf("MSIE");Rb=!K&&-1!=Ub.indexOf("WebKit");Sb=!K&&!Rb&&"Gecko"==Vb.product}var Wb=K,L=Qb,M=Sb,N=Rb,Xb=function(){var a=z.document;return a?a.documentMode:k},Yb;
a:{var Zb=s,O;if(Wb&&z.opera)var $b=z.opera.version,Zb=typeof $b==x?$b():$b;else if(M?O=/rv\:([^\);]+)(\)|;)/:L?O=/MSIE\s+([^\);]+)(\)|;)/:N&&(O=/WebKit\/(\S+)/),O)var ac=O.exec(Tb()),Zb=ac?ac[1]:s;if(L){var bc=Xb();if(bc>parseFloat(Zb)){Yb=String(bc);break a}}Yb=Zb}
var cc=Yb,dc={},P=function(a){var b;if(!(b=dc[a])){b=0;for(var c=String(cc).replace(/^[\s\xa0]+|[\s\xa0]+$/g,s).split(la),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,s).split(la),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||s,n=d[f]||s,q=RegExp(ia,Na),t=RegExp(ia,Na);do{var r=q.exec(h)||[s,s,s],w=t.exec(n)||[s,s,s];if(0==r[0].length&&0==w[0].length)break;b=((0==r[1].length?0:parseInt(r[1],10))<(0==w[1].length?0:parseInt(w[1],10))?-1:(0==r[1].length?0:parseInt(r[1],10))>(0==w[1].length?
0:parseInt(w[1],10))?1:0)||((0==r[2].length)<(0==w[2].length)?-1:(0==r[2].length)>(0==w[2].length)?1:0)||(r[2]<w[2]?-1:r[2]>w[2]?1:0)}while(0==b)}b=dc[a]=0<=b}return b},ec=z.document,fc=!ec||!L?k:Xb()||("CSS1Compat"==ec.compatMode?parseInt(cc,10):5);var gc=!L||L&&9<=fc,hc=L&&!P("9");!N||P("528");M&&P("1.9b")||L&&P("8")||Wb&&P("9.5")||N&&P("528");M&&!P("8")||L&&P("9");var ic=function(){};ic.prototype.disposed_=p;ic.prototype.dispose=function(){this.disposed_||(this.disposed_=l,this.disposeInternal())};ic.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};var Q=function(a,b){this.type=a;this.currentTarget=this.target=b};y=Q.prototype;y.disposeInternal=function(){};y.dispose=function(){};y.propagationStopped_=p;y.defaultPrevented=p;y.returnValue_=l;y.preventDefault=function(){this.defaultPrevented=l;this.returnValue_=p};var R=function(a,b){a&&this.init(a,b)};G(R,Q);y=R.prototype;y.target=m;y.relatedTarget=m;y.offsetX=0;y.offsetY=0;y.clientX=0;y.clientY=0;y.screenX=0;y.screenY=0;y.button=0;y.keyCode=0;y.charCode=0;y.ctrlKey=p;y.altKey=p;y.shiftKey=p;y.metaKey=p;y.event_=m;
y.init=function(a,b){var c=this.type=a.type;Q.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(M){var e;a:{try{Pb(d.nodeName);e=l;break a}catch(f){}e=p}e||(d=m)}}else c==Va?d=a.fromElement:c==Ua&&(d=a.toElement);this.relatedTarget=d;this.offsetX=N||a.offsetX!==k?a.offsetX:a.layerX;this.offsetY=N||a.offsetY!==k?a.offsetY:a.layerY;this.clientX=a.clientX!==k?a.clientX:a.pageX;this.clientY=a.clientY!==k?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=
a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c==Ta?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault();delete this.propagationStopped_};
y.preventDefault=function(){R.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=p,hc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};y.disposeInternal=function(){};var jc="closure_listenable_"+(1E6*Math.random()|0),S=function(a){return!(!a||!a[jc])},kc=0;var lc=function(){};y=lc.prototype;y.key=0;y.removed=p;y.callOnce=p;y.init=function(a,b,c,d,e,f){A(a)==x?this.isFunctionListener_=l:a&&a.handleEvent&&A(a.handleEvent)==x?this.isFunctionListener_=p:g(Error("Invalid listener argument"));this.listener=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.handler=f;this.callOnce=p;this.key=++kc;this.removed=p};
y.handleEvent=function(a){return this.isFunctionListener_?this.listener.call(this.handler||this.src,a):this.listener.handleEvent.call(this.listener,a)};var T={},U={},V={},W={},X=function(a,b,c,d,e){if(A(b)==v){for(var f=0;f<b.length;f++)X(a,b[f],c,d,e);return m}a=S(a)?a.listen(b,mc(c),d,e):nc(a,b,c,p,d,e);b=a.key;T[b]=a;return b},nc=function(a,b,c,d,e,f){b||g(Error("Invalid event type"));e=!!e;var h=U;b in h||(h[b]={count_:0,remaining_:0});h=h[b];e in h||(h[e]={count_:0,remaining_:0},h.count_++);var h=h[e],n=D(a),q;h.remaining_++;if(h[n]){q=h[n];for(var t=0;t<q.length;t++)if(h=q[t],h.listener==c&&h.handler==f){if(h.removed)break;d||(q[t].callOnce=
p);return q[t]}}else q=h[n]=[],h.count_++;t=oc();h=new lc;h.init(c,t,a,b,e,f);h.callOnce=d;t.src=a;t.listener=h;q.push(h);V[n]||(V[n]=[]);V[n].push(h);a.addEventListener?a==z||!a.customEvent_?a.addEventListener(b,t,e):a.assertInitialized():a.attachEvent(b in W?W[b]:W[b]=$a+b,t);return h},oc=function(){var a=pc,b=gc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},qc=function(a,b,c,d,e){if(A(b)==v){for(var f=0;f<b.length;f++)qc(a,b[f],
c,d,e);return m}a=S(a)?a.listenOnce(b,mc(c),d,e):nc(a,b,c,l,d,e);b=a.key;T[b]=a;return b},rc=function(a,b,c,d,e){if(A(b)==v){for(var f=0;f<b.length;f++)rc(a,b[f],c,d,e);return m}if(S(a))return a.unlisten(b,mc(c),d,e);d=!!d;a:{f=U;if(b in f&&(f=f[b],d in f&&(f=f[d],a=D(a),f[a]))){a=f[a];break a}a=m}if(!a)return p;for(f=0;f<a.length;f++)if(a[f].listener==c&&a[f].capture==d&&a[f].handler==e)return sc(a[f].key);return p},sc=function(a){var b=T[a];if(!b||b.removed)return p;var c=b.src;if(S(c))return c.unlistenByKey(b);
var d=b.type,e=b.proxy,f=b.capture;c.removeEventListener?(c==z||!c.customEvent_)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in W?W[d]:W[d]=$a+d,e);c=D(c);V[c]&&(e=V[c],Ib(e,b),0==e.length&&delete V[c]);b.removed=l;if(b=U[d][f][c])b.needsCleanup_=l,tc(d,f,c,b);delete T[a];return l},tc=function(a,b,c,d){if(!d.locked_&&d.needsCleanup_){for(var e=0,f=0;e<d.length;e++)d[e].removed?d[e].proxy.src=m:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.needsCleanup_=p;0==f&&(delete U[a][b][c],U[a][b].count_--,
0==U[a][b].count_&&(delete U[a][b],U[a].count_--),0==U[a].count_&&delete U[a])}},uc=function(a,b){var c=0,d=b==m;if(a!=m){if(a&&S(a))return a.removeAllListeners(b);var e=D(a);if(V[e])for(var e=V[e],f=e.length-1;0<=f;f--){var h=e[f];if(d||b==h.type)sc(h.key),c++}}else Kb(T,function(a,b){sc(b);c++});return c},wc=function(a,b,c,d,e){var f=1;b=D(b);if(a[b]){var h=--a.remaining_,n=a[b];n.locked_?n.locked_++:n.locked_=1;try{for(var q=n.length,t=0;t<q;t++){var r=n[t];r&&!r.removed&&(f&=vc(r,e)!==p)}}finally{a.remaining_=
Math.max(h,a.remaining_),n.locked_--,tc(c,d,b,n)}}return Boolean(f)},vc=function(a,b){a.callOnce&&sc(a.key);return a.handleEvent(b)},pc=function(a,b){if(a.removed)return l;var c=a.type,d=U;if(!(c in d))return l;var d=d[c],e,f;if(!gc){var h;if(!(h=b))a:{h=[rb,Ma];for(var n=z;e=h.shift();)if(n[e]!=m)n=n[e];else{h=m;break a}h=n}e=h;h=l in d;n=p in d;if(h){if(0>e.keyCode||e.returnValue!=k)return l;a:{var q=p;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(t){q=l}if(q||e.returnValue==k)e.returnValue=l}}q=
new R;q.init(e,this);e=l;try{if(h){for(var r=[],w=q.currentTarget;w;w=w.parentNode)r.push(w);f=d[l];f.remaining_=f.count_;for(var E=r.length-1;!q.propagationStopped_&&0<=E&&f.remaining_;E--)q.currentTarget=r[E],e&=wc(f,r[E],c,l,q);if(n){f=d[p];f.remaining_=f.count_;for(E=0;!q.propagationStopped_&&E<r.length&&f.remaining_;E++)q.currentTarget=r[E],e&=wc(f,r[E],c,p,q)}}else e=vc(a,q)}finally{r&&(r.length=0)}return e}c=new R(b,this);return e=vc(a,c)},xc="__closure_events_fn_"+(1E9*Math.random()>>>0),
mc=function(a){return A(a)==x?a:a[xc]||(a[xc]=function(b){return a.handleEvent(b)})};var Y=function(){this.eventTargetListeners_={};this.actualEventTarget_=this};G(Y,ic);Y.prototype[jc]=l;Y.prototype.customEvent_=l;y=Y.prototype;y.parentEventTarget_=m;y.addEventListener=function(a,b,c,d){X(this,a,b,c,d)};y.removeEventListener=function(a,b,c,d){rc(this,a,b,c,d)};
y.dispatchEvent=function(a){this.assertInitialized();var b,c=this.parentEventTarget_;if(c){b=[];for(var d=1;c;c=c.parentEventTarget_)b.push(c),H(1E3>++d,Ra)}c=this.actualEventTarget_;d=a.type||a;if(C(a))a=new Q(a,c);else if(a instanceof Q)a.target=a.target||c;else{var e=a;a=new Q(d,c);Ob(a,e)}var e=l,f;if(b)for(var h=b.length-1;!a.propagationStopped_&&0<=h;h--)f=a.currentTarget=b[h],e=f.fireListeners(d,l,a)&&e;a.propagationStopped_||(f=a.currentTarget=c,e=f.fireListeners(d,l,a)&&e,a.propagationStopped_||
(e=f.fireListeners(d,p,a)&&e));if(b)for(h=0;!a.propagationStopped_&&h<b.length;h++)f=a.currentTarget=b[h],e=f.fireListeners(d,p,a)&&e;return e};y.disposeInternal=function(){Y.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=m};y.assertInitialized=function(){H(this.eventTargetListeners_,ra)};y.listen=function(a,b,c,d){return this.listenInternal_(a,b,p,c,d)};y.listenOnce=function(a,b,c,d){return this.listenInternal_(a,b,l,c,d)};
y.listenInternal_=function(a,b,c,d,e){this.assertInitialized();var f=this.eventTargetListeners_[a]||(this.eventTargetListeners_[a]=[]),h;h=yc(f,b,d,e);if(-1<h)return h=f[h],c||(h.callOnce=p),h;h=new lc;h.init(b,m,this,a,!!d,e);h.callOnce=c;f.push(h);return h};y.unlisten=function(a,b,c,d){if(!(a in this.eventTargetListeners_))return p;a=this.eventTargetListeners_[a];b=yc(a,b,c,d);return-1<b?(c=a[b],delete T[c.key],c.removed=l,Hb(a,b)):p};
y.unlistenByKey=function(a){var b=a.type;if(!(b in this.eventTargetListeners_))return p;if(b=Ib(this.eventTargetListeners_[b],a))delete T[a.key],a.removed=l;return b};y.removeAllListeners=function(a){var b=0,c;for(c in this.eventTargetListeners_)if(!a||c==a){for(var d=this.eventTargetListeners_[c],e=0;e<d.length;e++)++b,delete T[d[e].key],d[e].removed=l;d.length=0}return b};
y.fireListeners=function(a,b,c){if(!(a in this.eventTargetListeners_))return l;var d=l;a=this.eventTargetListeners_[a];var e=a.length;if(0<e){for(var f=Array(e),h=0;h<e;h++)f[h]=a[h];a=f}else a=[];for(e=0;e<a.length;++e)if((f=a[e])&&!f.removed&&f.capture==b)f.callOnce&&this.unlistenByKey(f),d=f.handleEvent(c)!==p&&d;return d&&c.returnValue_!=p};var yc=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var zc=function(a,b){b.preventDefault();a(b);return p};var Ac=function(a){a=a.className;return C(a)&&a.match(/\S+/g)||[]},Bc=function(a,b){for(var c=Ac(a),d=Jb(arguments,1),e=c.length+d.length,f=c,h=0;h<d.length;h++)0<=J(f,d[h])||f.push(d[h]);a.className=c.join(u);return c.length==e},Dc=function(a,b){var c=Ac(a),d=Jb(arguments,1),e=Cc(c,d);a.className=e.join(u);return e.length==c.length-d.length},Cc=function(a,b){return Fb(a,function(a){return!(0<=J(b,a))})},Ec=function(a,b){var c=Ac(a);(c=!(0<=J(c,b)))?Bc(a,b):Dc(a,b);return c};!M&&!L||L&&L&&9<=fc||M&&P("1.9.1");var Fc=L&&!P("9");var Gc=function(a,b,c,d){a=d||a;b=b&&b!=ka?b.toUpperCase():s;if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?la+c:s));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,h;h=a[f];f++)b==h.nodeName&&(d[e++]=h);d.length=e;return d}return a}a=a.getElementsByTagName(b||ka);if(c){d={};for(f=e=0;h=a[f];f++)b=h.className,typeof b.split==x&&0<=J(b.split(/\s+/),c)&&(d[e++]=h);d.length=e;return d}return a},Hc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,
OBJECT:1},Ic={IMG:u,BR:aa},Kc=function(a){if(Fc&&Sa in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,aa);else{var b=[];Jc(a,b,l);a=b.join(s)}a=a.replace(/ \xAD /g,u).replace(/\xAD/g,s);a=a.replace(/\u200B/g,s);Fc||(a=a.replace(/ +/g,u));a!=u&&(a=a.replace(/^\s*/,s));return a},Jc=function(a,b,c){if(!(a.nodeName in Hc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,s)):b.push(a.nodeValue);else if(a.nodeName in Ic)b.push(Ic[a.nodeName]);else for(a=a.firstChild;a;)Jc(a,b,c),a=a.nextSibling};var Lc="StopIteration"in z?z.StopIteration:Error("StopIteration"),Mc=function(){};Mc.prototype.next=function(){g(Lc)};Mc.prototype.__iterator__=function(){return this};
var Nc=function(a){if(a instanceof Mc)return a;if(typeof a.__iterator__==x)return a.__iterator__(p);if(B(a)){var b=0,c=new Mc;c.next=function(){for(;;){b>=a.length&&g(Lc);if(b in a)return a[b++];b++}};return c}g(Error("Not implemented"))},Oc=function(a,b,c){if(B(a))try{Eb(a,b,c)}catch(d){d!==Lc&&g(d)}else{a=Nc(a);try{for(;;)b.call(c,a.next(),k,a)}catch(e){e!==Lc&&g(e)}}};var Pc=function(a){if(typeof a.getValues==x)return a.getValues();if(C(a))return a.split(s);if(B(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Lb(a)},Qc=function(a,b,c){if(typeof a.forEach==x)a.forEach(b,c);else if(B(a)||C(a))Eb(a,b,c);else{var d;if(typeof a.getKeys==x)d=a.getKeys();else if(typeof a.getValues!=x)if(B(a)||C(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=Mb(a);else d=k;for(var e=Pc(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};var Rc=function(a,b){this.map_={};this.keys_=[];var c=arguments.length;if(1<c){c%2&&g(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};y=Rc.prototype;y.count_=0;y.version_=0;y.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};y.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};
y.remove=function(a){return Object.prototype.hasOwnProperty.call(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),l):p};
y.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,b=0;a<this.keys_.length;){var c=this.keys_[a];Object.prototype.hasOwnProperty.call(this.map_,c)&&(this.keys_[b++]=c);a++}this.keys_.length=b}if(this.count_!=this.keys_.length){for(var d={},b=a=0;a<this.keys_.length;)c=this.keys_[a],Object.prototype.hasOwnProperty.call(d,c)||(this.keys_[b++]=c,d[c]=1),a++;this.keys_.length=b}};y.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.map_,a)?this.map_[a]:b};
y.set=function(a,b){Object.prototype.hasOwnProperty.call(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};y.addAll=function(a){var b;a instanceof Rc?(b=a.getKeys(),a=a.getValues()):(b=Mb(a),a=Lb(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};y.clone=function(){return new Rc(this)};y.getKeyIterator=function(){return this.__iterator__(l)};
y.__iterator__=function(a){this.cleanupKeysArray_();var b=0,c=this.keys_,d=this.map_,e=this.version_,f=this,h=new Mc;h.next=function(){for(;;){e!=f.version_&&g(Error("The map has changed since the iterator was created"));b>=c.length&&g(Lc);var h=c[b++];return a?h:d[h]}};return h};var Sc=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,oa).replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ba).replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,s)))try{return eval(ha+a+ja)}catch(b){}g(Error("Invalid JSON string: "+a))};var Tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Uc=N,Vc=function(a,b){if(Uc){Uc=p;var c=z.location;if(c){var d=c.href;if(d&&(d=(d=Vc(3,d))&&decodeURIComponent(d))&&d!=c.hostname)Uc=l,g(Error())}}return b.match(Tc)[a]||m};var Wc=function(){};Wc.prototype.cachedOptions_=m;Wc.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())};var Xc,Yc=function(){};G(Yc,Wc);Yc.prototype.createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};Yc.prototype.internalGetOptions=function(){var a={};this.getProgId_()&&(a[0]=l,a[1]=l);return a};Yc.prototype.getProgId_=function(){if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=[va,ua,ta,wa],b=0;b<a.length;b++){var c=a[b];try{return new ActiveXObject(c),this.ieProgId_=c}catch(d){}}g(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return this.ieProgId_};
Xc=new Yc;var Z=function(a){Y.call(this);this.headers=new Rc;this.xmlHttpFactory_=a||m};G(Z,Y);var Zc=/^https?$/i,$c=[],bd=function(a,b,c,d,e,f,h){var n=new Z;$c.push(n);b&&X(n,Ja,b);X(n,ab,Ab(ad,n));f&&n.setTimeoutInterval(f);h&&n.setWithCredentials(h);n.send(a,c,d,e)},ad=function(a){a.dispose();Ib($c,a)};y=Z.prototype;y.active_=p;y.xhr_=m;y.xhrOptions_=m;y.lastUri_=s;y.errorDispatched_=p;y.inSend_=p;y.inOpen_=p;y.inAbort_=p;y.timeoutInterval_=0;y.timeoutId_=m;y.responseType_=s;y.withCredentials_=p;
y.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};y.setWithCredentials=function(a){this.withCredentials_=a};
y.send=function(a,b,c,d){this.xhr_&&g(Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+a));b=b?b.toUpperCase():sa;this.lastUri_=a;this.errorDispatched_=p;this.active_=l;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():Xc.getOptions();this.xhr_.onreadystatechange=F(this.onReadyStateChange_,this);try{this.inOpen_=l,this.xhr_.open(b,a,l),this.inOpen_=p}catch(e){this.error_(5,e);return}a=c||s;var f=this.headers.clone();
d&&Qc(d,function(a,b){f.set(b,a)});d=Gb(f.getKeys(),cd);c=z.FormData&&a instanceof z.FormData;b==xa&&(!d&&!c)&&f.set(qa,Ga);Qc(f,function(a,b){this.xhr_.setRequestHeader(b,a)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);sb in this.xhr_&&(this.xhr_.withCredentials=this.withCredentials_);try{this.timeoutId_&&(z.clearTimeout(this.timeoutId_),this.timeoutId_=m),0<this.timeoutInterval_&&(this.timeoutId_=z.setTimeout(F(this.timeout_,this),this.timeoutInterval_)),this.inSend_=l,
this.xhr_.send(a),this.inSend_=p}catch(h){this.error_(5,h)}};var cd=function(a){return Ka==a.toLowerCase()};y=Z.prototype;y.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():Xc.createInstance()};y.timeout_=function(){"undefined"!=typeof tb&&this.xhr_&&(this.dispatchEvent(pb),this.abort(8))};y.error_=function(){this.active_=p;this.xhr_&&(this.inAbort_=l,this.xhr_.abort(),this.inAbort_=p);this.dispatchErrors_();this.cleanUpXhr_()};
y.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=l,this.dispatchEvent(Ja),this.dispatchEvent(La))};y.abort=function(){this.xhr_&&this.active_&&(this.active_=p,this.inAbort_=l,this.xhr_.abort(),this.inAbort_=p,this.dispatchEvent(Ja),this.dispatchEvent(Fa),this.cleanUpXhr_())};y.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=p,this.inAbort_=l,this.xhr_.abort(),this.inAbort_=p),this.cleanUpXhr_(l));Z.superClass_.disposeInternal.call(this)};
y.onReadyStateChange_=function(){if(!this.inOpen_&&!this.inSend_&&!this.inAbort_)this.onReadyStateChangeEntryPoint_();else this.onReadyStateChangeHelper_()};y.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()};
y.onReadyStateChangeHelper_=function(){if(this.active_&&"undefined"!=typeof tb&&(!this.xhrOptions_[1]||!(4==this.getReadyState()&&2==this.getStatus())))if(this.inSend_&&4==this.getReadyState())z.setTimeout(F(this.onReadyStateChange_,this),0);else if(this.dispatchEvent(bb),this.isComplete()){this.active_=p;try{this.isSuccess()?(this.dispatchEvent(Ja),this.dispatchEvent(ob)):this.dispatchErrors_()}finally{this.cleanUpXhr_()}}};
y.cleanUpXhr_=function(a){if(this.xhr_){var b=this.xhr_,c=this.xhrOptions_[0]?vb:m;this.xhrOptions_=this.xhr_=m;this.timeoutId_&&(z.clearTimeout(this.timeoutId_),this.timeoutId_=m);a||this.dispatchEvent(ab);try{b.onreadystatechange=c}catch(d){}}};y.isComplete=function(){return 4==this.getReadyState()};y.isSuccess=function(){var a=this.getStatus(),b;a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:b=l;break a;default:b=p}return b||0===a&&!this.isLastUriEffectiveSchemeHttp_()};
y.isLastUriEffectiveSchemeHttp_=function(){var a=Vc(1,String(this.lastUri_));!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1));return Zc.test(a?a.toLowerCase():s)};y.getReadyState=function(){return this.xhr_?this.xhr_.readyState:0};y.getStatus=function(){try{return 2<this.getReadyState()?this.xhr_.status:-1}catch(a){return-1}};y.getResponseJson=function(a){if(this.xhr_){var b=this.xhr_.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));return Sc(b)}};var dd=function(a,b){this.entityId_=encodeURIComponent(a);b?this.sender_=b:(this.sender_=Z,this.sender_.send=bd);this.writeToken_=s;this.options_={};this.counts_={};this.decodeLabel_={};this.selectedReactions_=new Rc};y=dd.prototype;
y.initialize=function(a){a=Gc(document,Ea,jb,document.getElementById(a));for(var b=0;b<a.length;b++){var c=a[b],d=Gc(document,lb,ib,c)[0],d=Kc(d);this.options_[d]=c;var e=this.encodeLabel_(d);this.decodeLabel_[e]=d;var e=c,f=F(this.toggle,this,d);X(e,Ia,zc.partial(f));c=Gc(document,lb,gb,c)[0];this.counts_[d]=c;c.innerHTML=ma}a=F(this.displayRetrievedAnnotations_,this);b=F(this.disableOptions_,this);this.loadExistingReactions_(a,b)};y.setZipitToken_=function(a){this.writeToken_=a};
y.loadZipitToken_=function(a){var b=F(this.disableOptions_,this),c=F(this.setZipitToken_,this),d=F(this.toggle,this);this.sender_.send(Pa,function(){if(this.isSuccess()){var e=this.getResponseJson();c(e.channelHeader.token);a&&d(a)}else b()},xa,db)};y.loadExistingReactions_=function(a,b){this.sender_.send(Oa,function(){this.isSuccess()?a(this.getResponseJson()):b()},xa,eb+this.entityId_+ea+this.entityId_+fa)};
y.displayRetrievedAnnotations_=function(a){if(a.entityAggregates)for(var b=0;b<a.entityAggregates.length;b++){var c=p;if(c=a.entityAggregates[b].labels)for(var d=0;d<c.length;d++){var e=this.counts_[this.decodeLabel_[c[d].label]];if(e){var f=parseInt(Kc(e),10);isNaN(f)&&(f=0);e.innerHTML=f+parseInt(c[d].count,10)}}}};y.encodeLabel_=function(a){a=a.replace(/([^A-Za-z ])/g,function(a){return Da+a.charCodeAt(0)});return a=a.replace(/([A-Z])/g,function(a){return Da+a.toLowerCase()})};
y.disableOptions_=function(){for(var a=Gc(document,Ea,jb,document.getElementById(hb)),b=0;b<a.length;b++){var c=a[b];c.style.borderColor=m;uc(c)}};
y.toggle=function(a){if(this.writeToken_==s)this.loadZipitToken_(a);else{if(this.selectedReactions_.get(a)){var b=p;this.selectedReactions_.remove(a)}else b=l,this.selectedReactions_.set(a,l);var c=s;Oc(this.selectedReactions_.getKeyIterator(),function(a){c=c+ba+this.encodeLabel_(a)+ca},this);this.sender_.send(Qa,vb,xa,cb+this.entityId_+da+c+Ca+this.writeToken_);var d=this.options_[a];if(d){a=this.counts_[a];var e=parseInt(Kc(a),10);isNaN(e)&&(e=0);a.innerHTML=b?e+1:e-1;Ec(d,fb);Ec(d,kb)}}};ub("BLOG_Annotator",dd,k);dd.prototype.initialize=dd.prototype.initialize;ub("BLOG_listenOnce",qc,k); })()
